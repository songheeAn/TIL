# 😊 오늘 공부한 내용

---
### 프로세스
- 실행 중인 프로그램
- 자원(resources - 메모리, CPU 등)과 쓰레드로 구성
- 모든 프로세스는 최소한 하나의 쓰레드를 가지고 있음


💡 프로세스 = 공장, 쓰레드 = 일꾼


---

### 쓰레드
- 프로세스 내에서 실제 작업을 수행

---

### 멀티 프로세스
- 동시에 여러 프로세스를 실행시키는 것

### 멀티 쓰레딩
- 하나의 프로세스 내에 동시에 여러 쓰레드를 실행시키는 것
- 같은 프로세스 내의 쓰레드들은 서로 자원을 공유한다


💡 하나의 프로세스를 생성하는 것보다 하나의 쓰레드를 생성하는 비용이 더 적다


---

### 멀티 쓰레드 프로그램의 장단점
- 대부분의 프로그램이 **멀티쓰레드**로 작성되어 있다.
    - 효율적으로 자원을 사용할 수 있음
    - 단점
        - **교착상태(dead-lock)**
            - 서로에게 필요한 자원을 갖고 대치하고 있는 상태가 발생하지 않도록 주의해야 함
        - **기아상태(starvation)**
            - 작업할 기회를 갖지 못해 작업이 진행되지 않는 상태가 발생하지 않도록 주의해야 함

---

### Thread 구현 방법
1. `Thread` 클래스를 상속 받기
2. `Runnable` 인터페이스를 구현하기


💡 두 방법 모두 `run`이라는 메서드를 작성하는 것! `run` 메서드 안에 작업 내용을 넣어주면 된다.


---

### Thread 실행 절차
1. Thread 생성
2. `start()` 호출

- **먼저 `start()`를 호출했다고 먼저 실행되는 것은 아니다**
    - 실행 순서는 OS의 스케줄러에 의해 결정된다.

---

```java
class ThreadTest {
    public static void main(String args[]) {
        MyThread t1 = new MyThread(); // 1. 생성
        t1.start(); // 2. 실행
    }
}

class MyThread extends Thread {
    public void run() {
        // 작업 내용
    }
}
```
### **`start()` 메서드를 호출하는 이유**
1. `main` 메서드에서 `start()` 호출 시 호출 스택이 쌓인다.
2. **`start()` 메서드가 새로운 호출 스택을 생성**한다.
3. **새로운 호출 스택에서는 `run()`을 올린다.**
4. `start()` 메서드는 할 일을 다하고 종료된다.
5. **`main()`, `run()`은 서로 다른 호출 스택을 갖게 된다.**
    - **서로 독립적인 작업을 수행할 수 있다.**

![image](https://github.com/user-attachments/assets/e72425ee-c2fe-4a05-80f9-813e4e70f00c)
---

### main 쓰레드
- `main` 메서드의 코드를 수행하는 쓰레드
- **실행 중인 ‘사용자 쓰레드’가 하나도 없을 때 프로그램은 종료된다**.
    - `main` 쓰레드가 실행을 마치고 종료되어도 **`run`을 실행하고 있는 쓰레드가 존재한다면** 아직 프로그램은 살아있음.

---

### 참고
- [자바의 정석 - 기초편] ch13-1 쓰레드 https://www.youtube.com/watch?v=kNNHaAaFDs8
- [자바의 정석 - 기초편] ch13-3~6 쓰레드의 구현과 실행 https://www.youtube.com/watch?v=P1zDndoy4pI
